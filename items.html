<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste des Items</title>
</head>
<body>

    <h1>Liste des Items</h1>

    <div id="itemsContainer"></div>

    <label for="filterTitle">Filtrer par titre:</label>
    <input type="text" id="filterTitle" oninput="filterItems()">

    <script>
        // Fonction pour récupérer les données de l'API
        function getData(callback) {
            // Remplacez l'URL de l'API par votre propre URL
            fetch('localhost/projet/omeka-s/api/items?pretty_print=1')
                .then(response => response.json())
                .then(data => callback(data))
                .catch(error => console.error('Erreur lors de la récupération des données:', error));
        }

        // Fonction pour afficher la liste des items
        function showItems(items) {
            const itemsContainer = document.getElementById('itemsContainer');
            itemsContainer.innerHTML = ''; // Effacer le contenu actuel

            items.forEach(item => {
                // Créer un élément div pour chaque item
                const itemDiv = document.createElement('div');

                // Ajouter l'identifiant de l'item
                const itemId = document.createElement('p');
                itemId.textContent = `Identifiant: ${item.id}`;
                itemDiv.appendChild(itemId);

                // Ajouter le titre de l'item
                const itemTitle = document.createElement('p');
                itemTitle.textContent = `Titre: ${item.title}`;
                itemDiv.appendChild(itemTitle);

                // Ajouter le média de l'item (assumons que le média est une URL)
                const itemMedia = document.createElement('p');
                itemMedia.textContent = `Media: ${item.media}`;
                itemDiv.appendChild(itemMedia);

                // Ajouter l'élément div à la liste des items
                itemsContainer.appendChild(itemDiv);
            });
        }

        // Fonction pour filtrer la liste des items par titre
        function filterItems() {
            const filterTitle = document.getElementById('filterTitle').value;
            getData(data => {
                const filteredItems = data.filter(item => item.title.toLowerCase().includes(filterTitle.toLowerCase()));
                showItems(filteredItems);
            });
        }

        // Appeler la fonction getData pour récupérer les données et afficher les items
        getData(showItems);
    </script>

</body>
</html>
